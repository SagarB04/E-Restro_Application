<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{adminLayout}">
<head>
<title>Post Category</title>

<style type="text/css">
#imgPreview {
	height: 30vh;
	display: none;
}
</style>
<script type="text/javascript">
	window.onpageshow = function(event) {
		if (event.persisted
				|| (window.performance && window.performance.navigation.type == 2)) {
			document.getElementById("myForm").reset();
		}
	};
	function handleChange(event) {
		var imageUrl = event.target.value;
		var preview = document.getElementById('imgPreview');

		preview.src = imageUrl;

		if (imageUrl == null || imageUrl == "") {
			preview.style.display = 'none';
		} else {
			preview.style.display = 'block';
		}
	}
</script>
</head>
<body>

	<div layout:fragment="content" class="p-0 m-auto w-100 h-100 row">
		<div class="card col-12 col-md-10 col-lg-8 m-auto p-4 h-100 shadow">


			<h1 class="text-center">Post Category</h1>
			<p th:if="${danger}" class="text-danger text-center message"
				th:text="${danger}"></p>
			<p th:if="${success}" class="text-success text-center message"
				th:text="${success}"></p>
			<div class="mb-3 card-img-top img-container overflow-hidden">
				<img alt="imgPreview" id="imgPreview" src="" class="m-auto ">
			</div>
			<form method="post" id="myForm" enctype="multipart/form-data"
				th:action="@{/restaurant/admin/postcategory}">
				<div class="mb-3">
					<label for="formFile" class="form-label">Image URL:</label> <input
						class="form-control" type="text" name="imageUrl" id="formFile"
						onchange="handleChange(event)" accept="image/*" required>
				</div>
				<div class="mb-3">
					<label for="name" class="form-label">Name:</label> <input
						type="text" name="name" class="form-control" id="name" required>
				</div>
				<div class="mb-3">
					<label for="description" class="form-label">Description:</label> <input
						type="text" name="description" class="form-control"
						id="description" required>
				</div>
				<div class="text-end">
					<button type="submit" class="btn btn-primary px-5">Post</button>
				</div>

			</form>
		</div>
	</div>
</body>
</html>